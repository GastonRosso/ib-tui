services:
  ib-gateway:
    image: ghcr.io/gnzsnz/ib-gateway:latest
    restart: unless-stopped
    ports:
      - "4001:4003"
      - "5900:5900"
    environment:
      - TWS_USERID=${IBKR_USERNAME:-}
      - TWS_PASSWORD=${IBKR_PASSWORD:-}
      - TRADING_MODE=live
      - READ_ONLY_API=yes
      - TWS_ACCEPT_INCOMING=accept
      - VNC_SERVER_PASSWORD=${VNC_PASSWORD:-password}
    volumes:
      - ib-gateway-data:/home/ibgateway/Jts

volumes:
  ib-gateway-data:
